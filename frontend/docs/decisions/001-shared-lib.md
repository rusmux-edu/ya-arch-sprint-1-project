# Использовать общую библиотеку

## Context and Problem Statement

Код в микрофронтендах повторяется, что приводит к дублированию кода и усложнению его поддержки. Предлагается вынести
общие части кода в отдельную библиотеку.

## Considered Options

* Стандартная библиотека
* Микрофронтенд
* Не выносить общие части кода в отдельную библиотеку

## Decision Outcome

Выбрана стандартная библиотека, потому что общий код представляет собой базовые компоненты, которые будут
редко меняться, На общие части также нет большой нагрузки, следовательно, нет необходимости в масштабируемости.

### Consequences

Положительные:

* Упрощение поддержки общих частей кода

Негативные:

* Усложнение сборки Docker-образов микрофронтендов при локальной установке
* Необходимость пересборки всех микрофронтендов даже при неломающих изменениях общей библиотеки

## Pros and Cons of the Options

### Стандартная библиотека

Общая библиотека, устанавливаемая посредством `npm`.

Преимущества:

* Поддержка в IDE
* Простота использования, ненужно дополнительно ничего разворачивать

Недостатки:

* Даже при неломающих изменениях общей библиотеки необходимо пересобирать все микрофронтенды
* Усложнение сборки Docker-образов микрофронтендов при локальной установке
* Нельзя отдельно масштабировать при большой нагрузке

### Микрофронтенд

Общая библиотека представляет собой remote-микрофронтенд.

Преимущества:

* При неломающих изменениях можно обновлять независимо от остальных микрофронтендов
* Можно масштабировать отдельно при большой нагрузке

Недостатки:

* Сложность разворачивания
* Нет поддержки в IDE для JS

### Не выносить общие части кода в отдельную библиотеку

Общие части кода дублируются в каждом микрофронтенде.

Преимущества:

* Нет необходимости поддерживать общую библиотеку
* Нет взаимозависимостей между микрофронтендами

Недостатки:

* Усложнение поддержки общих частей кода
